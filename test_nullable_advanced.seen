// Advanced nullable types test
struct Person {
    name: String
    age: Int
}

let person: Person? = Person { name: "Alice", age: 30 }
let nullPerson: Person? = null

// Safe navigation operator
let personName = person?.name
let nullName = nullPerson?.name

println("Person name: {personName ?: "No name"}")
println("Null name: {nullName ?: "No name"}")

// Force unwrap (dangerous!)
if person != null {
    let forcedName = person!!.name
    println("Forced name: {forcedName}")
}

// Chained safe navigation
struct Address {
    street: String
    city: String
}

struct PersonWithAddress {
    name: String
    address: Address?
}

let personAddr: PersonWithAddress? = PersonWithAddress { 
    name: "Bob", 
    address: Address { street: "Main St", city: "NYC" }
}

let street = personAddr?.address?.street
println("Street: {street ?: "No street"}")